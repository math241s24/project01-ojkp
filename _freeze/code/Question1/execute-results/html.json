{
  "hash": "e9fef165d585f7301300e68b0fd3e112",
  "result": {
    "markdown": "---\ntitle: \"Question 1\"\nauthor: \"Julian Jacklin\"\ndate: \"2024-03-08\"\noutput: pdf_document\n\n---\n\n\n\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Question1_files/figure-html/PM2.5 graph-1.png){width=768}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# KIANA's FIRST GRAPH\nggplot(avgAll, aes(x = month, y = avg_co, fill = year)) +\n  geom_col(width = .7, show.legend = FALSE) +\n  scale_fill_manual(values = c(\"#33302E\", \"#320a5e\", \"#781c6d\", \"#bc3754\", \"#ed6925\", \"#fbb61a\", \"#fcffa4\")) +\n scale_x_continuous(breaks = c(1, 13, 25, 37, 49,61,73, 84), \n                    labels = c(\"1\" = \"2017\", \"13\" = \"2018\", \"25\" = \"2019\", \"37\" = \"2020\", \"49\" = \"2021\", \"61\" = \"2022\", \"73\" = \"2023\", \"84\" = \"2024\")) +\n  \n  theme_linedraw() +\n  \n  labs(title = \"Concentration of Carbon Monoxide (CO) in Portland, OR\",\n       subtitle = \"From 2017 to 2024\",\n       x = \"Year\",\n       y = \"Average CO Concentration (ppb)\") +\n  \n  guides(color = \"none\") +\n  theme(axis.title.y = element_text(size = 10, margin = margin(r = 20)), \n        axis.title.x = element_text(size = 10, margin = margin(t = 15))) +\n  \n  annotate(\"segment\", x = 19, xend = 19, y = .75, yend = 0.3, color = \"white\", linewidth = .5, linetype = \"dashed\") +\n  annotate(\"segment\", x = 21, xend = 21, y = .75, yend = 0.4, color = \"white\", linewidth = .5, linetype = \"dashed\") +\n  annotate(\"segment\", x = 19, xend = 21, y = .75, yend = 0.75, color = \"white\", linewidth = .5) +\n  geom_rect(aes(xmin = 10, xmax = 20, ymin = .8, ymax = 1 ), fill = \"white\", alpha = 0.05) +\n  annotate(\"text\", x = 15, y = .9, label = \"Regular Wildfire\\n Season\", size = 2) +\n  geom_point(aes(x = 20,y = .775), show.legend = FALSE, color = \"white\", shape = 6, size = .5) +\n  \n  annotate(\"segment\", x = 67, xend = 67, y = .75, yend = 0.1, color = \"white\", linewidth = .5, linetype = \"dashed\") +\n  annotate(\"segment\", x = 69, xend = 69, y = .75, yend = 0.2, color = \"white\", linewidth = .5, linetype = \"dashed\") +\n  annotate(\"segment\", x = 67, xend = 69, y = .75, yend = 0.75, color = \"white\", linewidth = .5) +\n  geom_rect(aes(xmin = 68, xmax = 78, ymin = .8, ymax = 1 ), fill = \"white\", alpha = 0.05) +\n  annotate(\"text\", x = 73, y = .9, label = \"Regular Wildfire\\n Season\", size = 2) +\n  geom_point(aes(x = 68,y = .775), show.legend = FALSE, color = \"white\", shape = 6, size=.5) +\n  \n  annotate(\"segment\", x = 45.5, xend = 58, y = 1.75, yend = 2, color = \"pink\", linewidth = .5) +\n  geom_rect(aes(xmin = 55, xmax = 65, ymin = 2, ymax = 2.2), fill = \"pink\", alpha = 0.05) +\n  annotate(\"text\", x = 60, y = 2.1, label = \"Archie Creek Fire\\n(September 2020)\", size = 2) +\n  geom_point(aes(x = 45.5, y = 1.75), show.legend = FALSE, color = \"pink\", size = .5)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values or values outside the scale range\n(`geom_col()`).\n```\n:::\n\n::: {.cell-output-display}\n![](Question1_files/figure-html/wildfire graph-1.png){width=768}\n:::\n:::\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(avgAll2019_melted , aes(x = monthbyyear, y = value, fill = variable)) +\n  geom_col() +\n  facet_wrap(variable ~ ., scales = \"free_y\") +\n  geom_smooth()+\n  scale_x_continuous(breaks = c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12), \n                     labels = c(\"1\" = \"Jan\", \"2\" = \"Feb\", \"3\" = \"Mar\", \"4\" = \"Apr\", \"5\" = \"May\", \"6\" = \"Jun\", \"7\" = \"Jul\", \"8\" = \"Aug\", \"9\" = \"Sep\", \"10\" = \"Oct\", \"11\" = \"Nov\", \"12\" = \"Dec\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1, size=5)) +\n  \n  scale_fill_viridis_d() +\n  \n  theme_linedraw() +\n  theme(panel.grid = element_blank()) +\n  labs(x = \"\", \n       title = \"Concentration Trends by Pollutant\",\n       fill = \"Pollutant\",\n       subtitle = \"For the Year 2019\",\n       y = \"Concentration by Pollutant\") +\n  \n  # REMOVES X-LABELS\n  theme(axis.text.x = element_blank(),\n        \n        # CHANGE MY LEGEND BORDER COLOR AND LINE THICKNESS\n        legend.box.background = element_rect(color = \"black\", size = 1),\n        legend.box.margin = margin(6, 6, 6, 6),\n        \n        # CHANGE THE POSITION OF THE LEGEND\n        legend.position = c(.85, .2),\n        legend.text = element_text(color = \"black\", size = 7),  # Legend text color and size\n        legend.title = element_text(color = \"black\"),           # Legend title color\n        legend.key.size = unit(0.4, \"cm\")\n        )\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The `size` argument of `element_rect()` is deprecated as of ggplot2 3.4.0.\nℹ Please use the `linewidth` argument instead.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: A numeric `legend.position` argument in `theme()` was deprecated in ggplot2\n3.5.0.\nℹ Please use the `legend.position.inside` argument of `theme()` instead.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](Question1_files/figure-html/concentration trends graph-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(avgAll2020_melted, aes(x = monthbyyear, y = value, fill = variable)) +\n  geom_col() +\n  facet_wrap(variable ~ ., scales = \"free_y\") +\n  geom_smooth() +\n  scale_x_continuous(breaks = c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12), \n                     labels = c(\"1\" = \"Jan\", \"2\" = \"Feb\", \"3\" = \"Mar\", \"4\" = \"Apr\", \"5\" = \"May\", \"6\" = \"Jun\", \"7\" = \"Jul\", \"8\" = \"Aug\", \"9\" = \"Sep\", \"10\" = \"Oct\", \"11\" = \"Nov\", \"12\" = \"Dec\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1, size=5)) +\n  \n  scale_fill_viridis_d()+\n  \n  theme_linedraw()+\n  theme(panel.grid = element_blank())+\n  labs(x=\"\", \n       title = \"Concentration Trends by Pollutant\",\n       fill = \"Pollutant\",\n       subtitle = \"For the Year 2020\", \n       y = \"Concentration by Pollutant\") +\n  \n  # REMOVES X-LABELS\n  theme(axis.text.x = element_blank(),\n        \n        # CHANGE MY LEGEND BORDER COLOR AND LINE THICKNESS\n        legend.box.background = element_rect(color = \"black\", size = 1),\n        legend.box.margin = margin(6, 6, 6, 6),\n        \n        # CHANGE THE POSITION OF THE LEGEND\n        legend.position = c(.85, .2) ,\n        legend.text = element_text(color = \"black\", size = 7),  # Legend text color and size\n        legend.title = element_text(color = \"black\"),           # Legend title color\n        legend.key.size = unit(0.4, \"cm\")\n        )\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](Question1_files/figure-html/concentration trends graph-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(avgAll2021_melted , aes(x = monthbyyear, y = value, fill = variable)) +\n  geom_col() +\n  facet_wrap(variable ~ ., scales = \"free_y\") +\n  geom_smooth() +\n  scale_x_continuous(breaks = c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12), \n                     labels = c(\"1\" = \"Jan\", \"2\" = \"Feb\", \"3\" = \"Mar\", \"4\" = \"Apr\", \"5\" = \"May\", \"6\" = \"Jun\", \"7\" = \"Jul\", \"8\" = \"Aug\", \"9\" = \"Sep\", \"10\" = \"Oct\", \"11\" = \"Nov\", \"12\" = \"Dec\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1, size=5)) +\n  \n  scale_fill_viridis_d() +\n  \n  theme_linedraw() +\n  theme(panel.grid = element_blank()) +\n  \n  labs(x = \"\", \n       title = \"Concentration Trends by Pollutant\", \n       fill = \"Pollutant\", \n       subtitle = \"For the Year 2021\", \n       y = \"Concentration by Pollutant\") +\n  \n  # REMOVES X-LABELS\n  theme(axis.text.x = element_blank(),\n        \n        # CHANGE MY LEGEND BORDER COLOR AND LINE THICKNESS\n        legend.box.background = element_rect(color = \"black\", size = 1),\n        legend.box.margin = margin(6, 6, 6, 8),\n        \n        # CHANGE THE POSITION OF THE LEGEND\n        legend.position = c(.85, .2),\n        legend.text = element_text(color = \"black\", size = 7),  # Legend text color and size\n        legend.title = element_text(color = \"black\"),           # Legend title color\n        legend.key.size = unit(0.4, \"cm\")\n        )\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](Question1_files/figure-html/concentration trends graph-3.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\navgAll %>%\n  group_by(year) %>%\n  summarize(AVGPM = mean(avg_pm2.5), AVGCO = mean(avg_co, na.rm=T), AVGNO = mean(avg_no2, na.rm=T), AVGSO = mean(avg_so2, na.rm=T))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 7 × 5\n  year  AVGPM AVGCO AVGNO AVGSO\n  <chr> <dbl> <dbl> <dbl> <dbl>\n1 2017   6.95 0.369  19.6 0.803\n2 2018   6.55 0.421  19.6 0.883\n3 2019   5.89 0.316  16.7 0.656\n4 2020  10.5  0.485  15.4 0.661\n5 2021   5.37 0.299  15.3 0.824\n6 2022   6.87 0.296  16.2 0.907\n7 2023   5.53 0.261  15.0 0.737\n```\n:::\n:::\n",
    "supporting": [
      "Question1_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}